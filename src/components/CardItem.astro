---
const { record, imgUrl, align = "left" } = Astro.props;

---

<div class={`flex ${align === "right" ? "sm:flex-row-reverse" : "sm:flex-row"} items-start gap-6`}>
  <div class="relative bg-white overflow-hidden shadow-sm w-[520px] min-w-[520px] max-w-[520px] flex-none">
    <div class="p-3.5">
      <div class="relative">
        <img src={imgUrl} alt={record?.titre ?? "image"} class="w-full h-auto block" loading="lazy" />

        <!-- overlays -->
        <div class="absolute top-3 right-4">
          <span class="font-[ClimateCrisis] text-[24px] tracking-tight text-white">{record?.categorie}</span>
        </div>
        <div class="absolute bottom-3 left-4">
          <span class="font-[ClimateCrisis] text-[24px] tracking-tight text-white">{record?.date}</span>
        </div>
      </div>

      <!-- Titre sous image -->
      <div class={`w-full mt-3 ${align === "left" ? "sm:text-right" : "sm:text-left"}`}>
        <h3 class="font-[ClimateCrisis] text-[42px] sm:text-[48px] leading-none mt-1">{record?.titre}</h3>
      </div>
    </div>
  </div>
</div>

<style>
  .font-\[ClimateCrisis\] {
    font-family: "Climate Crisis", system-ui, sans-serif;
  }
</style>
